\subsection{Các khó khăn so với bài toán truy xuất hình ảnh cơ bản}

Mặc dù bài toán truy xuất địa danh thường được đánh giá và phát triển dưới góc nhìn là một bài toán truy xuất hình ảnh hoặc truy xuất instance, để biến đổi các giải pháp cho bài toán truy xuất hình ảnh thành giải pháp cho bài toán này, chúng ta cần phải đề xuất các hướng phát triển để triệt tiêu các khó khăn gắn liền với bản chất của dữ liệu địa danh. Khi nhận diện dữ liệu địa danh trong tập dữ liệu huấn luyện thành thị, mô hình học sâu sẽ phải xử lý một lượng lớn dữ liệu chứa các yếu tố lặp đi lặp lại đến từ kiến trúc nhân tạo như đường phố và cơ sở hạ tầng. Khi xử lý dữ liệu được thu thập trong một khoảng thời gian dài, mô hình học sâu cần đảm bảo tính bền của các đặc trưng biểu diễn trước các yếu tố thay đổi về điều kiện môi trường và phông cảnh được tạo ra do nhiều yếu tố phức tạp như mùa màng, thời tiết, thời gian, ánh sáng, \dots. Ngoài ra, dữ liệu đại diện cho các đối tượng địa danh mà mô hình cần học thường được thu thập từ các góc nhìn khác nhau với thiết bị và cảm biến khác nhau, yêu cầu khả năng khái quát hóa cao của mô hình học sâu. Quá trình phát triển để tăng cường độ bền của đặc trưng biểu diễn trước thay đổi trong điều kiện tự nhiên, môi trường, xã hội, thiết bị thu thập dữ liệu đã đặt bài toán truy xuất địa danh vào một phân loại khác biệt so với bài toán truy xuất hình ảnh cơ bản. Trong phần này, chúng tôi sẽ trình bày các khó khăn đặc trưng của bài toán truy xuất địa danh và các hướng phát triển để giải quyết các khó khăn này, lấy cảm hứng từ các giải pháp đã được đề xuất cho bài toán truy xuất hình ảnh cơ bản và các bài toán khác.

\subsubsection{Chọn vật thể và góc nhìn}

Tập dữ liệu hình ảnh địa danh cần xử lý trong bài toán truy xuất địa danh mang nhiều yếu tố lộn xộn (clutter), gây nhiễu, tạo ra hiện tượng phân tâm (visual distractors) cho các mô hình. Từ những ngày đầu phát triển, các nhà nghiên cứu đã ghi nhận mức độ quan trọng của quá trình quan sát và chọn ra các thành phần, góc nhìn của ảnh mang giá trị thông tin cao và tránh các yếu tố gây nhiễu, giảm hiệu năng\cite{4270175, knopp2010avoiding, predicting-good-features, Torii2013VisualPR, arandjelovic2015dislocation}. Đến nay, các hướng tiếp cận thường tối ưu hóa quá trình này theo hai chiến lược chính:

\begin{enumerate}
    \item Chọn vùng (region selection)
    \item Cơ chế tập trung (attention) và lớp trọng số (weighting)
\end{enumerate}

Chọn vùng là một chiến lược để xử lý vấn đề cluterring và visual distractors. Bằng cách chọn ra các vùng trong ảnh mang giá trị thông tin cao, mô hình truy xuất so sánh tương quan giữa các đặc trưng biểu diễn trích xuất được từ các vùng khác nhau thay vì giữa các ảnh khác nhau, trên lý thuyết, dẫn đến hiệu năng cao và tính bền bỉ cho mô hình. Trên thực tế, tuy đạt được độ bền cao so với thay đổi về tỉ lệ và thay đổi góc nhìn, việc trích xuất các vùng ảnh trực tiếp từ ảnh đầu vào được đánh giá là kém hiệu quả và tốn nhiều tài nguyên tính toán. Một hướng tiếp cận khác sử dụng mạng học sâu tích chập, chia ảnh đầu vào bằng một lưới với kích thước cố định và trích xuất vùng ảnh từ các đặc trưng trích xuất được\cite{razavian2016visual, tolias2015particular}. Phướng tiếp cận này làm giảm được số lượng tham số cần học, tuy nhiên không giải quyết được vấn đề đã nhắc đến một cách hiệu quả. Kích thước lưới được quyết định một cách cố định và mà không tận dụng được bối cảnh của ảnh, dẫn đến số lượng các vùng ảnh được chọn không mang ý nghĩa tương đương với các vùng ảnh mang ý nghĩa bất kể độ mịn của lưới. Đồng thời, việc tăng độ mịn của lưới với mục tiêu tăng cường độ bền của mô hình sẽ làm tăng đáng kể số lượng các vùng ảnh được trích xuất, dẫn đến tăng đáng kể thời gian tính toán và số lượng tham số cần học, cho thấy rằng đây không phải là một hướng tiếp cận thân thiện với phạm vi lớn. Đề xuất các hướng giải quyết cho vấn đề này, các mô hình R-MAC\cite{tolias2015particular} được chỉnh sửa với các mạng đề xuất vùng tương tự với hướng tiếp cận được đề xuất trong Faster R-CNN\cite{ren2015faster} và mô hình ASMK aggregation\cite{selective-match-kernel} với cơ chế truy xuất sử dụng MobileNet V2\cite{sandler2018mobilenetv2, teichmann2019detect}. Ngoài ra, nhận thấy các lớp gần cuối của mạng học sâu tích chập thường thể hiện các đặc trưng ngữ nghĩa có ý nghĩa\cite{ZeilerVisualizingAU}, các hướng tiếp cận hiện đại thường khai thác trực tiếp đặc trưng từ các lớp sau của mạng tích chập cho tác vụ chọn vùng\cite{chen2017only, khaliq2019holistic}.

Cơ chế attention và lớp trọng số là một chiến lược mới, với mục tiêu chọn ra những thông tin, đặc trưng mang tính tương quan cao từ các hình ảnh để tăng hiệu năng hoạt động của các mô hình truy xuất địa danh. Khác với cơ chế chọn vùng, cơ chế attention không truy xuất thông tin từ những vùng mà mô hình cho là quan trọng, mà truy xuất tất cả các vùng trong ảnh cùng một lúc. Sau đó, các đặc trưng trích xuất được được tổng hợp lại dựa theo một lớp trọng số và điều kiện đánh giá cụ thể. Điều kiện đánh giá này, vào những ngày đầu, được thiết kế dựa theo các cơ chế phỏng đoán (heuristic) như khoảng cách so với trọng tâm hình ảnh, độ nổi bật của đặc trưng trong tất cả các kênh (channel), \dots. Hướng tiếp cận này đạt nhiều thành công trong các tập dữ liệu chứa các đối tượng lặp đi lặp lại và thiếu tính tương phản cao. Ngoài ra, sự đa dạng trong phương thức thiết kế lớp trọng số cho phép nhà nghiên cứu tùy chỉnh mô hình để giải quyết các vấn đề cụ thể. Tuy nhiên, các mô hình này dễ trở nên thiếu linh hoạt, khó huấn luyện để tổng quát hóa và chỉ đạt kết quả tốt nhất khi được huấn luyện đầu-cuối (end-to-end). Ngày nay, hướng tiếp cận này thường được hiện thực sử dụng cơ chế Transformers (một loại mô hình auto-encoder), Vision Transformers (ViT)\cite{dosovitskiy2020image}, \cite{shavit2023coarse}. Nhận thấy tác động tài nguyên của ViT, \cite{alibey2023mixvpr} đề xuất sử dụng mạng học sâu MLP-Mixer\cite{tolstikhin2021mlpmixer}, một mạng học sâu sử dụng nhiều lớp MLP (Multi-Layer Perceptron) kết nối đầy đủ (fully-connected) với nhau, để thay thế cho ViT với mục tiêu đạt được cùng hiệu năng nhưng đòi hỏi ít tài nguyên hơn. Tác giá của \cite{alibey2023mixvpr} cho rằng, cho tác vụ truy xuất địa danh, MLP-Mixer là một lựa chọn có tiềm năng cao để thay thế cho ViT.

\subsubsection{Góc nhìn ảo và sự biến dạng}

Trong thực tế, các đặc trưng cục bộ dày đặc được sử dụng cho quá trình so sánh tương quan, mặc dù mạnh mẽ hơn so với các đặc trưng cục bộ thưa thớt trước các thay đổi về ánh sáng \cite{zhou2016evaluating}, không thu hẹp được các ảnh hướng đến từ biến đổi hình học (tỷ lệ và góc nhìn). Đối mặt với vấn đề này, một số bài báo \cite{torii201524, taira2018inloc} đề xuất các chiến thuật sinh góc nhìn (view synthesis). Dựa vào cơ sở dữ liệu chứa ảnh RGB và thông tin độ sâu, các mô hình này truy xuất một danh sách các ví trí sơ bộ gần đúng và chế tạo góc nhìn ảo tương ứng, đưa ảnh truy vẫn và ảnh truy xuất về cùng một góc nhìn. Quá trình lựa chọn ảnh khớp tốt nhất được thực hiện một cách đơn giản, trực tiếp lên số lượng các điểm ảnh trùng và không trùng của các ảnh. Mặc dù hướng tiếp cận này tạo ra số lượng lớn các dị vật trong ảnh (visual artifacts), chiến thuật này thường đạt kết quả tốt hơn so với các mô hình truy xuất địa danh cơ bản.

Ngoài ra, trong các ứng dụng đặc biệt hơn như truy xuất vị trí từ các góc nhìn chéo, các mô hình cần phải truy vấn ảnh lấy được từ các góc nhìn trên không để so sánh với ảnh lấy được từ góc nhìn trên mặt đất và ngược lại. Sự khác nhau rất lớn về góc nhìn này đã tạo nên không ít khó khăn. Một giải pháp cho vấn đề này là quá trình chiếu tất cả các ảnh về một góc nhìn chung \cite{lin2015learning, castaldo2015semantic}. Một giải pháp khác sử dụng thêm các đặc trưng chỉ hướng (rolling descriptor) cho quá trình truy vấn để mã hóa thông tin chỉ hướng vào đặc trưng biểu diễn của các ảnh trong cơ sở dữ liệu \cite{xia2023convolutional}. Trong quá trình suy luận (inference), mô hình này khai phá thông tin chỉ hướng từ các ảnh góc rộng (panorama) để mã hóa vào biểu diễn truy vấn, so sánh tương quan giữa các đặc trưng biểu diễn này với các đặc trưng biểu diễn của các ảnh trong cơ sở dữ liệu.

\subsubsection{Thông tin ngữ nghĩa}

\subsubsection{Thông tin về độ sâu}

Thông tin độ sâu thường được xem là dữ liệu đi kèm với các tập dữ liệu truy xuất địa danh. Đóng vai trò là cầu nối giữa hình ảnh hai chiều và thông tin ba chiều của địa danh, thông tin độ sâu thường được sử dụng để tăng độ bền cho các mô hình học sâu trước các thay đổi về điều kiện ảnh. Ngoài ra, độ sâu còn có thể được tích hợp vào các đặc trưng biểu diễn để hỗ trợ quá trình trích xuất biểu diễn toàn cục cho quá trình truy xuất hình ảnh. Tuy nhiên, giống với các mô hình học từ dữ liệu thu thập được từ cảm biến độ sâu như LiDAR, việc đòi hỏi dữ liệu huấn luyện chứa thông tin về độ sâu là một hạn chế lớn, giảm khả năng mở rộng cho tập dữ liệu vì các vấn đề thu thập, lưu trữ, cập nhật và huấn luyện. Vì lý do này, một số hướng tiếp cận trong bài toán thường thiết kế các mô đun học sâu phụ cho mô hình của mình, với mục đích tự xây dựng lại một phiên bản cơ bản hơn của thông tin này trong quá trình huấn luyện, chỉ cần nhận vào ảnh 2 chiều RGB trong quá trình truy xuất\cite{piasco2019learning}.

\subsubsection{Sự khác biệt về điều kiện môi trường}

\subsubsection{Sử dụng mô hình ba chiều}
